---
leyout: post
title:  tDiary 2.3.2リリース
date: 2009-07-08 12:27:27 +0900
categories:
  - 2.3
  - release
---
tDiary 2.3.2(開発版)をリリースしました。

このリリースは開発版である2.3系列の2番目のリリースになります。開発版は新しい機能を実装するための主に開発者向けのリリースです。開発版の機能は検討中のものが多く、途中で仕様が変更になる場合があります。利用する場合は十分注意してください。

→[ダウンロード](20021112)

### アップデートに関する注意点
#### ruby 1.8.xから1.9.1へのアップデート
tDiary 2.3.1から2.3.2の主な変更点は、ruby 1.9.1対応です。基本的に1.9.1にするだけで移行できるようになっていますが、tDiaryが生成するキャッシュファイルは互換性の問題でエラーになることがあります。

もっとも簡単な対処は、データディレクトリにあるcacheディレクトリを丸ごと削除する方法です。ただし、counter.rbの情報が消えるとカウンタが巻き戻ってしまうので、初期値を控えておくなどの対処が必要です。またmakerss.rbやrecent_comment.rbが生成するキャッシュが消えるため、しばらくは寂しい状況になるかも知れませんが、これらは時間が解決してくれます:-) すべてのキャッシュを削除するのが困難な場合は、個別のファイルごとに対処してください。

また、カテゴリに関する情報も、同様な理由でエラーを起こすことがあります。この場合は、categoryプラグインの設定画面で「カテゴリインデックスの作成 」を実行してください。

#### ruby 1.8系のバグの影響
ruby 1.8のいくつかのバージョンでは、プラグインの組み合わせによってrubyの処理系そのものが異常終了することがわかっています(参考:[チケット142](http://www.cozmixng.org/retro/projects/tdiary/tickets/142))。問題になる組み合わせのプラグインの利用を取りやめるか、rubyを1.9.1や1.8trunkに上げることで回避できます。

tDiary側でなんらかの方法で回避できるか検討中ですが、今回2.3.2では対応しないことにしました。

### tDiary本体(core)の変更点
!!機能追加
* Ruby 1.9.1 に対応しました
* 編集画面に表示されるチェックボックスにラベル要素を追加しました

!!機能変更
* モバイルモードに mixi のゲートウェイを追加しました
* Ruby 1.8 以降では推奨されていない処理を修正しました

!!バグ修正
* コメントフォームの一部がエスケープしすぎだったのを直しました

### プラグイン集(plugin)の変更点
!!機能追加
* Ruby 1.9.1 に対応しました

!!機能変更
* 一部のプラグインでRuby 1.8 以降では推奨されていない処理を修正しました
* category.rb : 編集画面のカテゴリ文字列が挿入される位置をテキストの最後からカーソルが存在する位置に変更しました

!!バグ修正
* makerss.rb : 文字の実体参照時に大文字と小文字が区別されていなかったので、区別されるように直しました
* counter.rb : 一部の設定が空の時に設定画面が表示できない問題を直しました
* amazon.rb : Amazonの商品ページにユーザー画像が存在する時に商品画像が取得できない問題を直しました

### BlogKitの変更点
!!機能追加
* Ruby 1.9.1 に対応しました

