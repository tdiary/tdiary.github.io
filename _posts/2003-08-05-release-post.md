---
leyout: post
title:  tDiary 1.5.5リリース
categories:
  - release
---
tDiary 1.5.5をリリースしました。

設定画面を追加するプラグインが作れるようになり、プラグインのオプション指定をWebから行うことができるようになりました。

### 本体
本体に追加されたのは以下の機能です。

* 設定プラグインのサポート
  * ツッコミメールプラグインが対応しています
  * また、設定画面を機能別に分割しました
* 「更新」を「追記」に変更、日別ページでは「編集」に
* 更新後、その日の日記画面にジャンプするように変更
* ツッコミメール機能を完全にプラグイン化(後述)
* 不正なリンク元URLを記録しないようにした
* HEADリクエストではサイズを返さないようになった
* ruby 1.8.0対応
  * また、ruby 1.8を使っている場合はERB2を使うようになりました
* その他、バグ修正多数

### プラグイン
* edit.rb: 本体統合に伴い廃止
* 各種プラグインのバグ修正、機能拡張

### テーマ
* 標準設定を記述したbase.cssを強制読み込みするようにした
* tile、rainy-season追加

### 移行時の注意
* ツッコミメール機能について
  * 過去の設定は無効になったと考えてください。プラグインを設置して、正しく設定する必要があります。
  * プラグイン集のcomment_mail-smtp.rb、comment_mail-sendmail.rb、comment_mail-qmail.rbの中から環境に合ったものを選んでpluginディレクトリに置き、各ファイルに書いてある通りに設定してください。旧機能と互換性が高いのはcomment_mail-smtp.rbです。
  * ツッコミメールの設定をWeb上から行う時、エラーが出ることがあります。この場合、他の設定画面(「基本」など)でいったん「OK」を押してから改めて実行すればエラーは出なくなります。
