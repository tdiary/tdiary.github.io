---
leyout: post
title:  ツッコミ抜きのフィード(RSS)も生成しましょう
categories:
  - plugin
---
すでに多くの方は[makerssプラグイン](http://docs.tdiary.org/ja/?makerss.rb)を使ってフィード(RSS)を配信していると思います。

tDiaryが生成するフィードの最大の特徴は、ツッコミも1つの記事として生成する点です。ツッコミによるコミュニケーションを重視するtDiaryならではの機能ですが、残念なことにツッコミは読みたくないという読者がいるのも確かです。

tDiary 2.2では、従来のツッコミ入りフィードに加え、ツッコミ抜きのフィードも生成できるようになっています。幅広い読者のニーズに応えるため、ぜひツッコミ抜きフィードも生成してあげましょう。

### ツッコミ抜きフィードを生成するには?
ツッコミ抜きフィードの生成方法は以下のとおりです:

* 従来のツッコミ入りフィードファイルである「index.rdf」と同様、「no_comments.rdf」というファイルを、index.rbと同じディレクトリに作成し(空っぽでかまいません)、Webサーバの権限で読み書き可能にしておきます。
* 続いてtDiaryの設定ページからmakerssの設定画面を開きます。更新カテゴリの中にある「フィード(RSS)の生成」がそれです[^1]
* 設定画面で「ツッコミ抜きのフィードを【配信する】」にして、「OK」ボタンを押せば設定完了です。

フィードファイルが書き込みできないような場合にはエラーメッセージが出ますので、ファイルの権限(パーミッション)を再確認してください。

### ツッコミ抜きフィード配信の確認
上記のように設定をしたあとは、正しく二種類のフィードが生成されているかどうか確認しましょう。試しに日記を一記事書いたあと、フィードリーダに2つのフィードが登場するかどうか見てみるとよいでしょう。

{{image 0, 'livedoor Readerの登録画面', nil, [355,166]}}
右のスクリーンショットは、[livedoor Reader](http://reader.livedoor.com/)で作者の日記を登録しようとしている画面です。通常の(ツッコミ入り)フィードに加え、タイトル末尾に「(without comments)」と入ったツッコミ抜きフィードが登場しています。読者はどちらを購読するか選択できるようになったわけです。

ところで、フィードリーダを使っている方は、自分の日記のフィードを購読していますか? tDiaryはツッコミもフィードに含めて配信しますから、メール送信機能を使わなくてもツッコミの見逃しがないという利点があります。自分の日記がツッコミspamに侵されていないかどうかの確認にもなりますから、ぜひとも自分のフィードを購読しましょう。

### ツッコミ抜きフィードの活用あれこれ
単に読者のニーズに応えるためだけでなく、ツッコミ抜きのフィードを活用できる場面があります。

#### SNSなどに登録するために
[mixi](http://mixi.jp/)などのSNSや、[iddy](http://iddy.jp/)のようなプロファイルサービス、[Tumblr](http://www.tumblr.com/)のように自分の生成したフィードを二次的に配信できるサービスには、ツッコミ入りのフィードが使いにくい場合があります。このような場面では、ツッコミ抜きのフィードを登録することで、自分の書いた記事だけを配信することが可能です。

#### 自分の書いた記事だけに責任を持ちたい場合に
フィードにツッコミが入ると、読者に対して責任を持てないと感じる人もいるでしょう。特にツッコミにはいつspamのような悪意のある記事が紛れ込むやもしれません。読者を保護するために、優先してツッコミ抜きのフィードを読ませたい時には、オプションでその旨を通知できます。

設定画面では指定できませんが、tdiary.confで以下のオプションを指定しましょう。

:@options['makerss.suffix']:ツッコミ入りフィードのタイトルに付加する文字列。無指定時には何も入りませんが、ここにたとえば「'(with comments and spams)'」のような注意書きを入れられます。
:@options['makerss.no_comments.suffix']:こちらはツッコミ抜きのタイトルに付加する文字列で、無指定時には「(without comments)」が入ります。これを「''」にすることで、何も付加されないようになります。

このほか、ファイル名を変更するオプションを指定することで、より「ツッコミ抜き」の方を優先的に表示させるようなことも可能です。詳しくは[makerss.rbのヘルプ](http://docs.tdiary.org/ja/?makerss.rb)を参照してください。

### 脚注

[^1]: もしまだmakerssを有効にしていないのであれば、これを期にフィードの配信を始めましょう。プラグイン選択から「makerss.rb」を有効にするだけです。
